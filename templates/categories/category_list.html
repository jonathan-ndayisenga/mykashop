{% extends "base.html" %}

{% block content %}
<div class="mx-auto max-w-4xl">

  <!-- Header / Actions -->
  <div class="mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
    <h2 class="text-xl font-bold tracking-tight text-gray-900 dark:text-white">Categories</h2>

    <div class="flex w-full items-center gap-2 sm:w-auto">
      <!-- Search (optional) -->
      <form method="get" class="flex w-full items-center gap-2 sm:w-auto">
        <div class="relative w-full sm:w-64">
          <input
            type="text"
            name="q"
            value="{{ request.GET.q }}"
            placeholder="Search categories…"
            class="w-full rounded-xl border border-gray-300 bg-white/90 px-3 py-2 pr-9 text-sm shadow-sm placeholder-gray-400 focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder-gray-500"
          />
          <svg class="pointer-events-none absolute right-2.5 top-1/2 h-4 w-4 -translate-y-1/2 opacity-60" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <circle cx="11" cy="11" r="7" stroke-width="2"></circle>
            <path stroke-linecap="round" stroke-width="2" d="M21 21l-4.3-4.3"></path>
          </svg>
        </div>
      </form>

      <a href="{% url 'add_category' %}"
         class="inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-emerald-700/20 hover:bg-emerald-700 active:scale-[0.99]">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M12 5v14M5 12h14"/></svg>
        Add Category
      </a>
    </div>
  </div>

  <!-- Table Card -->
  <div class="rounded-2xl border border-gray-200 bg-white shadow-sm dark:border-white/10 dark:bg-gray-900">
    {% if categories %}
      <div class="overflow-hidden rounded-2xl">
        <div class="overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead class="bg-gray-50 text-left text-gray-600 dark:bg-gray-800/60 dark:text-gray-300">
              <tr>
                <th class="px-4 py-2">Name</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-100 dark:divide-white/10">
              {% for category in categories %}
              <tr class="hover:bg-gray-50 dark:hover:bg-white/5">
                <td class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">
                  {{ category.name }}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <!-- Optional: pagination slot
      <div class="flex items-center justify-between px-4 py-3 text-xs text-gray-500 dark:text-gray-400">
        <span>Showing {{ page_obj.start_index }}–{{ page_obj.end_index }} of {{ page_obj.paginator.count }}</span>
        <div class="flex gap-2">
          {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}" class="rounded-lg border px-3 py-1 hover:bg-gray-50 dark:border-white/10 dark:hover:bg-white/10">Prev</a>
          {% endif %}
          {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}" class="rounded-lg border px-3 py-1 hover:bg-gray-50 dark:border-white/10 dark:hover:bg-white/10">Next</a>
          {% endif %}
        </div>
      </div>
      -->

    {% else %}
      <!-- Empty state -->
      <div class="flex flex-col items-center gap-3 px-6 py-12 text-center">
        <div class="inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-600/10">
          <svg class="h-6 w-6 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-width="2" d="M4 7h16M4 12h8m-8 5h16"/>
          </svg>
        </div>
        <h3 class="text-base font-semibold text-gray-900 dark:text-white">No categories yet</h3>
        <p class="max-w-sm text-sm text-gray-500 dark:text-gray-400">
          Create your first category to organize products and make stock management easier.
        </p>
        <a href="{% url 'add_category' %}"
           class="inline-flex items-center gap-2 rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-emerald-700/20 hover:bg-emerald-700">
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-width="2" d="M12 5v14M5 12h14"/></svg>
          Add Category
        </a>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
